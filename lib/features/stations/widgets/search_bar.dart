import 'dart:async';import 'package:extrawest_ui_kit/components/widgets/ew_text_field.dart';import 'package:flutter/material.dart';import 'package:google_maps_flutter/google_maps_flutter.dart';import '../../stations_search/screens/stations_search_screen.dart';import '../../theme/theme_info.dart';class AppSearchBar extends StatefulWidget {  final Completer<GoogleMapController> mapController;  const AppSearchBar({super.key, required this.mapController});  @override  State<AppSearchBar> createState() => _AppSearchBarState();}class _AppSearchBarState extends State<AppSearchBar> {  final TextEditingController searchController = TextEditingController();  final focus = FocusNode();  @override  void initState() {    super.initState();    searchController.addListener(_navigateToSearchScreen);    focus.unfocus();  }  @override  void dispose() {    searchController.dispose();    focus.dispose();    super.dispose();  }  void _navigateToSearchScreen() {    Navigator.of(context).push(      PageRouteBuilder<void>(        pageBuilder: (context, animation, anotherAnimation) {          return StationsSearchScreen(            mapController: widget.mapController,          );        },        transitionDuration: const Duration(milliseconds: 400),        transitionsBuilder: (context, animation, anotherAnimation, child) {          return FadeTransition(            opacity: animation,            child: child,          );        },      ),    );  }  @override  Widget build(BuildContext context) {    return Positioned(      top: 56,      child: Container(        height: 45,        ///full width minus padding        width: MediaQuery.of(context).size.width - 40,        decoration: BoxDecoration(          borderRadius: BorderRadius.circular(10),          color: white,        ),        child: GestureDetector(          onTap: () {            // Prevent keyboard from showing on tap            FocusScope.of(context).unfocus();          },          child: EWTextField(            controller: searchController,            autoValidateMode: AutovalidateMode.disabled,            keyboardType: TextInputType.none,            prefixIcon: const Icon(Icons.search),            suffixIcon: const Text(''),          ),        ),        //todo: remove later        // InputTextWidget(        //   hintText: 'Type here',        //   focus: focus,        //   isReadonly: true,        //   onTapCallback: () {        //     GoRouter.of(context).go(        //       "/stations_search",        //       extra: {        //         'mapController': widget.mapController,        //         'stations': stationBlocState.state.stationsInfo,        //       },        //     );        //        //     Navigator.of(context).push(        //       PageRouteBuilder<void>(        //         pageBuilder: (context, animation, anotherAnimation) {        //           return StationsSearchScreen(        //             mapController: widget.mapController,        //           );        //         },        //         transitionDuration: const Duration(milliseconds: 400),        //         transitionsBuilder:        //             (context, animation, anotherAnimation, child) {        //           return FadeTransition(        //             opacity: animation,        //             child: child,        //           );        //         },        //       ),        //     );        //   },        //   controller: searchController,        // ),      ),    );  }}